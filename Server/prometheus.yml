# ConfiguraÃ§Ã£o do Prometheus

global:
  scrape_interval: 5s  # Coletar mÃ©tricas a cada 15 segundos (padrÃ£o era 1 min)
  evaluation_interval: 1s  # Avaliar regras a cada 15 segundos
  scrape_timeout: 3s  # Tempo limite para cada scrape

  # Labels Globais
  external_labels:
    monitor: 'fl_monitoring'

# ConfiguraÃ§Ã£o do Alertmanager
alerting:
  alertmanagers:
    - static_configs:
        - targets: ['localhost:9093']

# Regras (caso necessÃ¡rio no futuro)
rule_files:
  # - "rules.yml"

# ConfiguraÃ§Ãµes de scraping
scrape_configs:
  # ðŸ“Œ Monitoramento do prÃ³prio Prometheus
  - job_name: 'server'
    scrape_interval: 5s  # Scraping mais frequente para Prometheus
    scrape_timeout: 3s
    static_configs:
      - targets: ['100.127.13.111:9100']
        labels:
          group: 'server'

  # ðŸ“Œ Monitoramento dos Clientes FL (MÃ©tricas de treinamento)
  - job_name: 'node_exporter'
    scrape_interval: 5s
    scrape_timeout: 3s
    static_configs:
      - targets:
          - '100.97.70.44:9102'
          - '100.99.55.62:9102'
          - '100.112.180.2:9102'
          - '100.91.59.20:9102'
        labels:
          group: 'fl_clients'



# ðŸ“Œ Monitoramento da API Flask (fl_server)
  - job_name: 'fl_server'
    scrape_interval: 5s
    scrape_timeout: 3s
    metrics_path: /metrics
    static_configs:
      - targets: ['100.127.13.111:5150']
        labels:
          group: 'fl_server'

 # Pushgateway para mÃ©tricas customizadas dos clientes
  - job_name: 'pushgateway'
    scrape_interval: 5s
    static_configs:
      - targets: 
          - '100.97.70.44:9091'
          - '100.99.55.62:9091'
          - '100.112.180.2:9091'
          - '100.91.59.20:9091'
        labels:
          group: 'push_metrics'